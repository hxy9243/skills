---
name: zettel-brainstormer
description: Deepen and expand writing drafts by brainstorming, researching references (Web/X/Books), and organizing insights directly into Obsidian notes. Use when the user asks to "brainstorm", "expand", "research", or "help me write" a specific draft.
---

# Zettel Brainstormer üß†

This skill formalizes the process of taking a rough idea or draft and enriching it with deep research, diverse perspectives, and structured brainstorming.

## New Dual-Stage Workflow (2026)
This skill now supports a two-stage pipeline to balance cost and quality:

1) Preprocess & Extraction (cheap model)
- Run a lightweight extraction step using OpenRouter's kimi-k2.5 to produce:
  - Short bullet-point keypoints
  - Candidate headings and tags
  - Minimal bibliography/search queries
- Output format (JSON): {"headlines":[], "points":[], "queries":[]}

2) Draft & Humanize (pro model)
- Use a pro model (configurable; default: openai/gpt-5.2 or google/gemini-3-pro-preview) to expand the best outline into a full draft.
- Post-process the draft with the `humanizer` skill to remove AI-signatures and make voice natural.

## Files & Scripts
This skill includes (or will include) the following resources under the skill folder:
- scripts/preprocess.py  -- call kimi-k2.5, extract key points, write JSON
- scripts/draft.py       -- call pro model with outline + references, produce final Markdown
- references/templates.md -- output templates, headline/lead examples, tone guide
- config/models.json     -- user-selectable pro model setting

## Usage
- Trigger when user asks: "brainstorm X", "expand this draft", "research and add notes to <path>".
- Example command (pseudo):
  1. read <path_to_note>
  2. scripts/preprocess.py --input <path> --output /tmp/outline.json
  3. scripts/draft.py --outline /tmp/outline.json --model openai/gpt-5.2 --out /tmp/draft.md
  4. humanizer --in /tmp/draft.md --out /tmp/draft.human.md
  5. edit <path_to_note> append /tmp/draft.human.md under header `## üß† Brainstorming (YYYY-MM-DD)`

## Configuration
- Default pro model: openai/gpt-5.2 (can be set to google/gemini-3-pro-preview)
- Cheap preprocess model: openrouter/x-ai/kimi-k2.5 (via OpenRouter profile)

## Notes for maintainers
- Keep preprocess outputs small (200-600 tokens) to save cost.
- Ensure all external links are included in the `References` section with full titles and URLs.
- When appending, always include a timestamp and short provenance line (e.g., "Generated by writing-brainstormer; preprocessed with kimi-k2.5; draft with gpt-5.2").

## Example Output Format (unchanged)

```markdown
... [Original Draft Content] ...

---
## üß† Brainstorming & Research (2026-02-07)

### üßä Core Metaphor: The Iceberg
[Expansion of the idea...]

### üìö References
*   **James C. Scott:** *Seeing Like a State* ‚Äî Discusses Metis vs Techne...
*   **Gall's Law:** [Link/Summary]

### üê¶ Signals
*   **@user on X:** Argues that [point]... [Link]
```
